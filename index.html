<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<link rel="stylesheet" href="css/master.css" type="text/css" media="screen" title="no title" charset="utf-8" />
		<title>
			garyhodgson/tinymce-renderer-plugin @ GitHub
		</title>
	</head>
	<body>
		<p>
			<a href="http://github.com/garyhodgson/tinymce-renderer-plugin"><img style="position: absolute; top: 0; right: 0; border: 0;" src="http://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png" alt="Fork me on GitHub" /></a>
		</p>
		<div id="container">
			<h1>
				<a href="http://github.com/garyhodgson/tinymce-renderer-plugin">tinymce-renderer-plugin</a>
			</h1>
	
			<h2><a name="description"></a>
				Description
			</h2>
			<div class="description">
				Jira plugin that provides a wysiwyg textarea renderer using the <a href="http://tinymce.moxiecode.com">TinyMCE Editor</a>.
			</div>
			<img src="images/1_Editing_With_TinyMCE.png" width="500px" alt="Editing With TinyMCE">
			
			<h2><a name="releases"></a>
				Releases
			</h2>
			<p> 
				<ul>
					<li><a name="release_1_5_2" href="http://github.com/garyhodgson/tinymce-renderer-plugin/raw/master/dist/tinymce-renderer-plugin-1.5.2.jar">tinymce-renderer-plugin-1.5.2.jar</a> (9th October 2011)</li>
					<ul>
						<li>Resolves <a href="https://github.com/garyhodgson/tinymce-renderer-plugin/issues/19">Issue 19</a>: "Renderer not working in pop-up"</li>
					</ul>

					<li><a name="release_1_5_1" href="http://github.com/garyhodgson/tinymce-renderer-plugin/raw/master/dist/tinymce-renderer-plugin-1.5.1.jar">tinymce-renderer-plugin-1.5.1.jar</a> (18th September 2011)</li>
					<ul>
						<li>Resolves <a href="https://github.com/garyhodgson/tinymce-renderer-plugin/issues/22">Issue 22</a>: "New 1.5 version breaks comment field on Jira 4.4 when using wiki-markup"</li>
					</ul>

					<li><a name="release_1_5" href="http://github.com/garyhodgson/tinymce-renderer-plugin/raw/master/dist/tinymce-renderer-plugin-1.5.jar">tinymce-renderer-plugin-1.5.jar</a> (4th August 2011)</li>
					<ul>
						<li>Resolves <a href="https://github.com/garyhodgson/tinymce-renderer-plugin/issues/21">Issue 21</a>: "Jira 4.4: Unable to instantiate module class". Fix for Jira 4.4.</li>
					</ul>
					
					<li><a name="release_1_4_1" href="http://github.com/garyhodgson/tinymce-renderer-plugin/raw/master/dist/tinymce-renderer-plugin-1.4.1.jar">tinymce-renderer-plugin-1.4.1.jar</a> (16th July 2011)</li>
					<ul>
						<li>Security Update - restricts use of script and other tags in TinyMCE editor. <strong>It is higly recommended to upgrade to this version if your Jira is accessible to the public.</strong></li>
					</ul>
					
					<li><a name="release_1_4" href="http://github.com/garyhodgson/tinymce-renderer-plugin/raw/master/dist/tinymce-renderer-plugin-1.4.jar">tinymce-renderer-plugin-1.4.jar</a> (23th April 2011)</li>
					<ul>
						<li>Resolves <a href="https://github.com/garyhodgson/tinymce-renderer-plugin/issues/7">Issue 7</a>: "Add option so that TinyMCE Renderer also translates WikiText". See <a href="#wikiTextTranslation">below for details</a>.</li>
						<li>Resolves <a href="https://github.com/garyhodgson/tinymce-renderer-plugin/issues/9">Issue 9</a>: "CSS race condition sets different fonts and sizes to &lt;body&gt;".</li>
						<li>Resolves <a href="https://github.com/garyhodgson/tinymce-renderer-plugin/issues/11">Issue 11</a>: "Issue with CR".</li>
						<li>Resolves <a href="https://github.com/garyhodgson/tinymce-renderer-plugin/issues/16">Issue 16</a>: "JIRA 4.3 support".</li>
					</ul>
					<li><a name="release_1_3_1" href="http://github.com/garyhodgson/tinymce-renderer-plugin/raw/master/dist/tinymce-renderer-plugin-1.3.1.jar">tinymce-renderer-plugin-1.3.1.jar</a> (13th January 2011)</li>
					<ul>
						<li>Resolves <a href="http://github.com/garyhodgson/tinymce-renderer-plugin/issues#issue/9">Issue 9</a>: "CSS race condition sets different fonts and sizes to &lt;body&gt;".</li>
					</ul>
					<li><a name="release_1_3" href="http://github.com/garyhodgson/tinymce-renderer-plugin/raw/master/dist/tinymce-renderer-plugin-1.3.jar">tinymce-renderer-plugin-1.3.jar</a> (27th December 2010)</li>
					<ul>
						<li>Resolves <a href="http://github.com/garyhodgson/tinymce-renderer-plugin/issues#issue/6">Issue 6</a>: "Issue with Firefox 3.5.15".<br><strong>Please Note</strong>: There is still an issue though (I believe in v4.1.2+): when one selects the comment button from the top of the view page, and then selects the comment button at the bottom of the view page, the TinyMce editor fails to load correctly and the user cannot type in the textarea.  I have tried several configurations to resolve this, but so far without success.  I shall continue to search for an optimal solution.</li>
					</ul>
					<li><a name="release_1_2" href="http://github.com/garyhodgson/tinymce-renderer-plugin/raw/master/dist/tinymce-renderer-plugin-1.2.jar">tinymce-renderer-plugin-1.2.jar</a> (28th November 2010)</li>
					<ul>
						<li>Resolves <a href="http://github.com/garyhodgson/tinymce-renderer-plugin/issues#issue/5">Issue 5</a>: "tinymce-renderer-plugin IE compatability".</li>
					</ul>
					<li><a name="release_1_1" href="http://github.com/garyhodgson/tinymce-renderer-plugin/raw/master/dist/tinymce-renderer-plugin-1.1.jar">tinymce-renderer-plugin-1.1.jar</a> (29th October 2010)</li>
					<ul>
						<li>Resolves <a href="http://github.com/garyhodgson/tinymce-renderer-plugin/issues#issue/3">Issue 3</a>: "If there is more than one on a screen, only the last one renders correctly". (<a href="#multipleRenderers">screenshot</a>)</li>
						<li>Tested to work on Jira 4.2</li>
					</ul>
					<li><a name="release_1_0" href="http://github.com/garyhodgson/tinymce-renderer-plugin/raw/master/dist/tinymce-renderer-plugin-1.0.jar">tinymce-renderer-plugin-1.0.jar</a> (13th October 2010)</li>
					<ul>
						<li>Initial Release</li>
					</ul>
				</ul>
			</p>
			
			
			<h2><a name="links"></a>
				Links
			</h2>
			<p>
				<ul>
					<li><a href="https://plugins.atlassian.com/plugin/details/30365">Atlassian plugins page</a></li>
					<li><a href="http://github.com/garyhodgson/tinymce-renderer-plugin">Project page on github</a></li>
					<li><a href="http://github.com/garyhodgson/tinymce-renderer-plugin/issues">Issue tracker on github</a></li>					
				</ul>
			</p>
			
			<h2><a name="install"></a>
				Install
			</h2>
			<p>
			<ul>
				<li>Copy the tinymce-renderer-plugin-xx.jar file to {JIRA_HOME}/plugins/installed-plugins
				</li>
				<li>Restart jira
				</li>
				<li>Ensure the html renderer option is enabled. As Administrator go to plugins, choose "Wiki Renderer Macros Plugin", and select "Enable" for the html option.
				</li>
				<li>Modify the renderer for the field you wish to use TinyMCE in. Example: As Administrator go to "Field Configurations", select "Configure", next to a text field select "Renderers", choose "TinyMCE Renderer"
				</li>
			</ul>
			</p>
			
			<h2><a name="features"></a>
				Features / Limitations
			</h2>
			<p>
				Because this plugin scratches my itch only a few of the TinyMCE plugins and themes are available:
			</p>
			<p>
			<ul>
				<li>The only theme used is advanced-default
				</li>
				<li>The following plugins are used:
				</li>
				<li style="list-style: none">
					<ul>
						<li>contextmenu
						</li>
						<li>fullscreen
						</li>
						<li>inlinepopups
						</li>
						<li>paste
						</li>
						<li>preview
						</li>
						<li>table
						</li>
					</ul>
				</li>
				<li>The configuration options are modifiable but lie deep in the jar file structure: tinymce-renderer-plugin.jar\templates\plugins\renderers\tinymce\tinymce-renderer-edit.vm
				</li>
				<li>Buttons available:
				</li>
				<li style="list-style: none">
					<ul>
						<li>bold, italic, underline, strikethrough
						</li>
						<li>justifyleft, justifycenter, justifyright, justifyfull
						</li>
						<li>bullist, numlist
						</li>
						<li>outdent, indent, blockquote
						</li>
						<li>undo, redo
						</li>
						<li>link, unlink, image
						</li>
						<li>formatselect, fontselect, fontsizeselect
						</li>
						<li>forecolor, backcolor
						</li>
						<li>tablecontrols
						</li>
						<li>hr, removeformat, visualaid
						</li>
						<li>pastetext, pasteword, selectall
						</li>
						<li>sub, sup, charmap
						</li>
						<li>fullscreen, preview, cleanup, code
						</li>
					</ul>
				</li>
			</ul>
			</p>
			
			
			<h2><a name="usage"></a>
				Usage Notes
			</h2>
			<p>The buttons in the Editor are pretty self-explanatory, and more information can be found on the <a href="http://tinymce.moxiecode.com">TinyMCE</a> site.
			</p>

			<h3>Editing a page</h3>
			<img src="images/1_Editing_With_TinyMCE.png" width="500px" alt="Editing With TinyMCE">

			<h3>The rendered content</h3>
			<img src="images/2_Rendered_Content.png" width="500px" alt="Rendered Content">
			
			<h3>Adding an image</h3>
			<p> 
				Images cannot be directly uploaded using the TinyMCE editor. Instead, upload the image to the issue, make a note of the URL, and use this in the image popup.
			</p>
			<img src="images/3_Noting_Image_URL.png" width="500px" alt="Noting Image URL">
			<img src="images/4_Adding_Image.png" width="500px" alt="Adding Image">
			<img src="images/5_Preview_Image.png" width="500px"  alt="Preview Image">
			
			<h3><a name="multipleRenderers"></a>Multiple Renderers</h3>
			<p> 
				Version 1.1 allows multiple renderers when editing an issue.
			</p>
			<img src="images/6_Multiple_Renderers.png" width="500px" alt="Multiple Renderers">
			
			
			
			
			
			<h3><a name="wikiTextTranslation"></a>Wiki Text Translation</h3>
			<p> 
				Version 1.4 gives an administration option which, when set, will force the plugin to translate any wiki text into html.
			</p>
			<p>
				<strong>It is important to realise that this makes a permanent modification to the format of the field at the point when it is next edited, and this is not reversable! Be very sure that you want to make the conversion, and always make a backup of the data.</strong>				
			</p> 
			<p>
				The images below show the effects of the option, plus what would happen if the field renderer is reverted after a field is edited.
			</p>
			<ol> 
			<li>Environment Field edited with Wiki Renderer.</li>
			<div class="step"><img src="images/wikiTextTranslation_1.png" width="500px" alt="Environment Field edited with Wiki Renderer."></div>
			<li>Environment Field rendered with Wiki Renderer.</li>
			<div class="step"><img src="images/wikiTextTranslation_3.png" width="500px" alt="wikiTextTranslation"></div>
			<li>(Not shown: Changing the renderer for the Environment field from Wiki to TinyMCE)</li>
			<li>TinyMCE plugin option to convert Wiki text to html. Found in the Administration Page.</li>
			<div class="step"><img src="images/wikiTextTranslation_2.png" width="500px" alt="wikiTextTranslation"></div>
			<li>Environment Field edited with TinyMCE Renderer.</li>
			<div class="step"><img src="images/wikiTextTranslation_4.png" width="500px" alt="wikiTextTranslation"></div>
			<li>(Not shown: Environment Field rendered with TinyMCE Renderer. Same output as with Wiki Renderer)</li>
			<li>Environment Field rendered with Wiki Renderer if converted to html!</li>
			<div class="step"><img src="images/wikiTextTranslation_5.png" width="500px" alt="wikiTextTranslation"></div>
			</ol>
			
			
			
			
			
			<h2><a name="support"></a>
				Support
			</h2>
			<p>
				This plugin is unsupported, I am releasing it in case it is useful for people. If the plugin is not working whatsoever I will try and find time to help resolve the issue. I do not currently plan on implementing more themes or mce-plugins, but will help as much as I can if you want to extend the plugin for your environment.
			</p>
			<p>
				If you do encounter a problem, there is an <a href="http://github.com/garyhodgson/tinymce-renderer-plugin/issues">issue tracker</a> on github.  Please be as specific as you can, and if possible include the following information:
				<ul>
					<li>Browser + version</li>
					<li>Jira version</li>
					<li>Any relevant error messages in the error console of the browser</li>
					<li>If you have access, any relevant error messages in the atlassian-jira.log file on the server</li>
				</ul>
			</p>
			
			<h2><a name="tinymce_modifications"></a>
				Modifications to the TinyMCE Library
			</h2>
			<p>
			<ul>
				<li>tiny_mce_popup.js - modified to set the tinymce object which seemed to be not set when called within jira. Identified with comment: "Modified from the original by Gary Hodgson for Jira Plugin"
				</li>
				<li>themes/advanced/skins/default/dialog.css - prefixed all declarations with "tinymce_dialog"
				</li>
				<li>themes/advanced/skins/default/content.css - prefixed all declarations with "mceEditor"
				</li>
				<li>themes/advanced/*.htm - added explicit class attributes to body tags for theme css declarations (otherwise the jira css overrides the styles, for example: tabs and buttons) Perhaps there is a TinyMCE configuration item for this, but I couldn't find one that worked.
				</li>
				<li>plugins/table/*htm - as above.
				</li>
			</ul>
			</p>
			
			<h2><a name="license"></a>
				License
			</h2>
			<p>
				<a href="http://www.opensource.org/licenses/bsd-license.php">BSD</a>
			</p>
			
			<h2><a name="authors"></a>
				Authors
			</h2>
			<p>
				Gary Hodgson (contact@garyhodgson.com)
			</p>
			
			<h2><a name="download"></a>
				Download
			</h2>
			<p>
				You can download this project in either <a href="http://github.com/garyhodgson/tinymce-renderer-plugin/zipball/master">zip</a> or <a href="http://github.com/garyhodgson/tinymce-renderer-plugin/tarball/master">tar</a> formats.
			</p>
			<p>
				You can also clone the project with <a href="http://git-scm.com">Git</a> by running:
			</p>
			<pre>$ git clone git://github.com/garyhodgson/tinymce-renderer-plugin</pre>
			<div class="footer">
				get the source code on GitHub : <a href="http://github.com/garyhodgson/tinymce-renderer-plugin">garyhodgson/tinymce-renderer-plugin</a>
			</div>
		</div>
	</body>
</html>
